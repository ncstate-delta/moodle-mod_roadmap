define ("mod_roadmap/phase_save",["jquery"],function(a){var b=function(){};b.prototype.rebind_inputs=function(){console.log("PhaseSave.prototype.rebind_inputs");a(".phase-title").unbind("change").change(this.savePhase.bind(this));a(".phase-cycles-container .cycle-wrapper .cycle-configuration").unbind("change").change(this.savePhase.bind(this));b.prototype.savePhase(this)};b.prototype.savePhase=function(b){console.log("PhaseSave.prototype.savePhase");var c=a(b.target).closest(".phase-container"),d=[],e=0;a.each(c.find(".phase-cycles-container .cycle-wrapper .cycle-configuration"),function(){var b=a(this).val();if(""==b){b="{}"}var c=JSON.parse(b);c.index=e;e=e+1;c.id=e;d.push(c)});var f={title:c.find(".fitem input.phase-title").val(),cycles:d};c.children("input.phase-configuration").val(JSON.stringify(f)).triggerHandler("change")};return{init:function init(){return new b},rebind_inputs:function rebind_inputs(){b.prototype.rebind_inputs()}}});
//# sourceMappingURL=phase_save.min.js.map
