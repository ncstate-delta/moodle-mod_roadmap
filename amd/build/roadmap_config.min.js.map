{"version":3,"file":"roadmap_config.min.js","sources":["../src/roadmap_config.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Handle the configuration of the roadmap.\n *\n * @module     mod_roadmap/roadmapconfig\n * @copyright  2021 Steve Bader <smbader@ncsu.edu>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery',\n        'core/notification',\n        'core/templates',\n        'mod_roadmap/expand_contract',\n        'mod_roadmap/learningobjectivesconfig',\n        'mod_roadmap/step_icon_select',\n        'mod_roadmap/step_activity_select',\n        'mod_roadmap/step_save',\n        'mod_roadmap/cycle_save',\n        'mod_roadmap/phase_save',\n    ],\n    function(\n        $,\n        notification,\n        templates,\n        ec,\n        learningobjectives,\n        stepiconselect,\n        stepactivityselect,\n        stepsave,\n        cyclesave,\n        phasesave,\n    ) {\n\n        /**\n         * Learning objectives config object.\n         * @param {String} inputSelector The hidden input field selector.\n         * @param {String} inputConfig The hidden input configuration.\n         */\n        var RoadmapConfig = function(inputSelector, inputConfig) {\n            this.inputSelector = inputSelector;\n            this.configContainer = $(inputConfig);\n\n            this.initForm();\n        };\n\n        /**\n         * Use configuration data to fill phases, cycle, and step containers.\n         *\n         * @method initForm\n         */\n        RoadmapConfig.prototype.initForm = function() {\n            var self = this;\n            var inputConfigVal = this.configContainer.val();\n            if (inputConfigVal == '') {\n                inputConfigVal = JSON.stringify({'phases': []});\n                this.configContainer.val(inputConfigVal);\n            }\n            var config = JSON.parse(inputConfigVal);\n\n            $.each(config.phases, function(p) {\n                let phase = config.phases[p];\n                phase.configuration = JSON.stringify(phase);\n\n                $.each(phase.cycles, function(c) {\n                    let cycle = phase.cycles[c];\n                    cycle.configuration = JSON.stringify(cycle);\n\n                    $.each(cycle.steps, function(s) {\n                        let step = cycle.steps[s];\n                        step.configuration = JSON.stringify(step);\n                    });\n                });\n            });\n\n            // Dish up the form.\n            templates.render('mod_roadmap/configuration_phases', config)\n                .then(function(html, js) {\n                    templates.prependNodeContents(self.inputSelector, html, js);\n\n                    $('#add-phase').click(function(e) {\n                        RoadmapConfig.prototype.addPhase(e);\n                    });\n                    $('.add-phase-cycle').click(function(e) {\n                        RoadmapConfig.prototype.addCycle(e);\n                    });\n                    $('.add-cycle-step').click(function(e) {\n                        RoadmapConfig.prototype.addStep(e);\n                    });\n\n                    $('.phase-collapse-control').click(function(e) {\n                        RoadmapConfig.prototype.collapsePhase(e);\n                    });\n                    $('.cycle-collapse-control').click(function(e) {\n                        RoadmapConfig.prototype.collapseCycle(e);\n                    });\n                    $('.step-collapse-control').click(function(e) {\n                        RoadmapConfig.prototype.collapseStep(e);\n                    });\n\n                    $('.phase-delete-control').click(function(e) {\n                        RoadmapConfig.prototype.deletePhase(e);\n                    });\n                    $('.cycle-delete-control').click(function(e) {\n                        RoadmapConfig.prototype.deleteCycle(e);\n                    });\n                    $('.step-delete-control').click(function(e) {\n                        RoadmapConfig.prototype.deleteStep(e);\n                    });\n\n                    $('.phase-up-control').click(function(e) {\n                        RoadmapConfig.prototype.upPhase(e);\n                    });\n                    $('.phase-down-control').click(function(e) {\n                        RoadmapConfig.prototype.downPhase(e);\n                    });\n                    $('.cycle-up-control').click(function(e) {\n                        RoadmapConfig.prototype.upCycle(e);\n                    });\n                    $('.cycle-down-control').click(function(e) {\n                        RoadmapConfig.prototype.downCycle(e);\n                    });\n                    $('.step-up-control').click(function(e) {\n                        RoadmapConfig.prototype.upStep(e);\n                    });\n                    $('.step-down-control').click(function(e) {\n                        RoadmapConfig.prototype.downStep(e);\n                    });\n\n                    learningobjectives.refreshChecklists();\n\n                    stepiconselect.rebindButtons();\n                    stepactivityselect.rebindButtons();\n\n                    stepsave.rebindInputs();\n                    cyclesave.rebindInputs();\n                    phasesave.rebindInputs();\n\n                    RoadmapConfig.prototype.bindConfigSave();\n\n                    require(['theme_boost/loader']);\n                    return null;\n                }).fail(notification.exception);\n        };\n\n        RoadmapConfig.prototype.bindConfigSave = function() {\n            $('input.phase-configuration').unbind('change').change(this.configSave.bind(this));\n        };\n\n        RoadmapConfig.prototype.configSave = function() {\n            var phaseContainer = $('#phase-container');\n            var roadmapData = [];\n            let index = 0;\n            $.each(phaseContainer.find('.phase-wrapper .phase-configuration'), function() {\n                let phaseData = $(this).val();\n                if (phaseData == '') {\n                    phaseData = '{}';\n                }\n                let phaseDataObj = JSON.parse(phaseData);\n                phaseDataObj.index = index;\n                index = index + 1;\n                roadmapData.push(phaseDataObj);\n            });\n            $('input[name=\"roadmapconfiguration\"]').val(JSON.stringify({phases: roadmapData,\n                phaseDeletes: $('#phase-deletes').val(),\n                cycleDeletes: $('#cycle-deletes').val(),\n                stepDeletes: $('#step-deletes').val()\n            }));\n        };\n\n        RoadmapConfig.prototype.addPhase = function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            var config = JSON.parse($('input[name=\"roadmapconfiguration\"]').val());\n            var nextIndex = config.phases.length;\n            var maxPhaseId = parseInt(RoadmapConfig.prototype.maxValue('phase'));\n            var newPhase = {id: maxPhaseId + 1, index: nextIndex, number: nextIndex + 1};\n            config.phases.push(newPhase);\n            $('input[name=\"roadmapconfiguration\"]').val(JSON.stringify(config));\n\n            templates.render('mod_roadmap/configuration_phase', newPhase)\n                .then(function(html, js) {\n                    templates.appendNodeContents('#phase-container', html, js);\n\n                    $('.phase-collapse-control').unbind('click')\n                        .click(function(e) {\n                            RoadmapConfig.prototype.collapsePhase(e);\n                        });\n\n                    $('.phase-delete-control').unbind('click')\n                        .click(function(e) {\n                            RoadmapConfig.prototype.deletePhase(e);\n                        });\n\n                    $('.phase-up-control').unbind('click')\n                        .click(function(e) {\n                            RoadmapConfig.prototype.upPhase(e);\n                        });\n\n                    $('.phase-down-control').unbind('click')\n                        .click(function(e) {\n                            RoadmapConfig.prototype.downPhase(e);\n                        });\n\n                    $('#add-phase').unbind('click')\n                        .click(function(e) {\n                            RoadmapConfig.prototype.addPhase(e);\n                        });\n\n                    $('.add-phase-cycle').unbind('click')\n                        .click(function(e) {\n                            RoadmapConfig.prototype.addCycle(e);\n                        });\n\n                    phasesave.rebindInputs();\n                    RoadmapConfig.prototype.bindConfigSave();\n                    return null;\n                }).fail(notification.exception);\n        };\n\n        RoadmapConfig.prototype.addCycle = function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n            var thisnode = $(event.currentTarget);\n            var phaseContainer = thisnode.closest('.phase-container');\n            var cycleContainer = phaseContainer.children('.phase-cycles-container');\n\n            var nextCycleIndex = cycleContainer.children('.cycle-wrapper').length;\n            let maxCycleId = parseInt(RoadmapConfig.prototype.maxValue('cycle'));\n            var newCycle = {id: maxCycleId + 1, index: nextCycleIndex, number: nextCycleIndex + 1};\n\n            templates.render('mod_roadmap/configuration_cycle', newCycle)\n                .then(function(html, js) {\n                    templates.appendNodeContents(cycleContainer, html, js);\n\n                    $('.cycle-collapse-control').unbind('click')\n                        .click(function(e) {\n                            RoadmapConfig.prototype.collapseCycle(e);\n                        });\n\n                    $('.cycle-delete-control').unbind('click')\n                        .click(function(e) {\n                            RoadmapConfig.prototype.deleteCycle(e);\n                        });\n\n                    $('.cycle-up-control').unbind('click')\n                        .click(function(e) {\n                            RoadmapConfig.prototype.upCycle(e);\n                        });\n\n                    $('.cycle-down-control').unbind('click')\n                        .click(function(e) {\n                            RoadmapConfig.prototype.downCycle(e);\n                        });\n\n                    $('.add-cycle-step').unbind('click')\n                        .click(function(e) {\n                            RoadmapConfig.prototype.addStep(e);\n                        });\n\n                    learningobjectives.refreshChecklists();\n                    cyclesave.rebindInputs();\n                    phasesave.rebindInputs();\n                    return null;\n                }).fail(notification.exception);\n        };\n\n        RoadmapConfig.prototype.addStep = function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n            var thisnode = $(event.currentTarget);\n            var cycleContainer = thisnode.closest('.cycle-container');\n            var stepsContainer = cycleContainer.children('.cycle-steps-container');\n\n            var nextStepIndex = stepsContainer.children('.step-wrapper').length;\n            let maxStepId = parseInt(RoadmapConfig.prototype.maxValue('step'));\n            let iconUrl = $('input[name=\"icon_url\"]').val();\n\n            var newStep = {\n                id: maxStepId + 1,\n                index: nextStepIndex,\n                number: nextStepIndex + 1,\n                stepicon: 'icon-10',\n                iconurl: iconUrl + '?name=icon-10&percent=100&flags=n',\n            };\n\n            templates.render('mod_roadmap/configuration_step', newStep)\n                .then(function(html, js) {\n                    templates.appendNodeContents(stepsContainer, html, js);\n\n                    $('.step-collapse-control').unbind('click')\n                        .click(function(e) {\n                            RoadmapConfig.prototype.collapseStep(e);\n                        });\n\n                    $('.step-delete-control').unbind('click')\n                        .click(function(e) {\n                            RoadmapConfig.prototype.deleteStep(e);\n                        });\n\n                    $('.step-up-control').unbind('click')\n                        .click(function(e) {\n                            RoadmapConfig.prototype.upStep(e);\n                        });\n\n                    $('.step-down-control').unbind('click')\n                        .click(function(e) {\n                            RoadmapConfig.prototype.downStep(e);\n                        });\n\n                    stepiconselect.rebindButtons();\n                    stepactivityselect.rebindButtons();\n                    stepsave.rebindInputs();\n                    cyclesave.rebindInputs();\n                    return null;\n                }).fail(notification.exception);\n        };\n\n        RoadmapConfig.prototype.collapsePhase = function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n            var thisnode = $(event.currentTarget);\n            var phaseWrapper = thisnode.closest('.phase-wrapper');\n            var metadata = phaseWrapper.children('.phase-container');\n            ec.expandCollapse(metadata, thisnode);\n        };\n\n        RoadmapConfig.prototype.collapseCycle = function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n            var thisnode = $(event.currentTarget);\n            var cycleWrapper = thisnode.closest('.cycle-wrapper');\n            var metadata = cycleWrapper.children('.cycle-container');\n            ec.expandCollapse(metadata, thisnode);\n        };\n\n        RoadmapConfig.prototype.collapseStep = function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n            var thisnode = $(event.currentTarget);\n            var cycleWrapper = thisnode.closest('.step-wrapper');\n            var metadata = cycleWrapper.children('.step-container');\n            ec.expandCollapse(metadata, thisnode);\n        };\n\n        RoadmapConfig.prototype.deletePhase = function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n            if (window.confirm(\"Are you sure you want to delete this Phase?\")) {\n                var thisnode = $(event.currentTarget);\n                var phaseWrapper = thisnode.closest('.phase-wrapper');\n                var phaseId = phaseWrapper.data('phaseid');\n                $('#phase-deletes').val($('#phase-deletes').val() + phaseId + ',');\n                phaseWrapper.remove();\n                RoadmapConfig.prototype.configSave();\n            }\n        };\n\n        RoadmapConfig.prototype.deleteCycle = function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n            if (window.confirm(\"Are you sure you want to delete this Cycle?\")) {\n                var thisnode = $(event.currentTarget);\n                var cycleWrapper = thisnode.closest('.cycle-wrapper');\n                var phaseContainer = thisnode.closest('.phase-container');\n                var cycleId = cycleWrapper.data('cycleid');\n                $('#cycle-deletes').val($('#cycle-deletes').val() + cycleId + ',');\n                cycleWrapper.remove();\n                phaseContainer.find('.phase-title').triggerHandler(\"change\");\n            }\n        };\n\n        RoadmapConfig.prototype.deleteStep = function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n            if (window.confirm(\"Are you sure you want to delete this Step?\")) {\n                var thisnode = $(event.currentTarget);\n                var stepWrapper = thisnode.closest('.step-wrapper');\n                var cycleContainer = thisnode.closest('.cycle-container');\n                var stepId = stepWrapper.data('stepid');\n                $('#step-deletes').val($('#step-deletes').val() + stepId + ',');\n                stepWrapper.remove();\n                cycleContainer.find('.cycle-title').triggerHandler(\"change\");\n            }\n        };\n\n        RoadmapConfig.prototype.upPhase = function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            var thisnode = $(event.currentTarget);\n            var phaseWrapper = thisnode.closest('.phase-wrapper');\n            var prevPhaseWrapper = phaseWrapper.prev();\n\n            phaseWrapper.insertBefore(prevPhaseWrapper);\n            RoadmapConfig.prototype.configSave();\n        };\n\n        RoadmapConfig.prototype.downPhase = function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            var thisnode = $(event.currentTarget);\n            var phaseWrapper = thisnode.closest('.phase-wrapper');\n            var nextPhaseWrapper = phaseWrapper.next();\n\n            phaseWrapper.insertAfter(nextPhaseWrapper);\n            RoadmapConfig.prototype.configSave();\n        };\n\n        RoadmapConfig.prototype.upCycle = function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            var thisnode = $(event.currentTarget);\n            var cycleWrapper = thisnode.closest('.cycle-wrapper');\n            var phaseContainer = thisnode.closest('.phase-container');\n            var prevCycleWrapper = cycleWrapper.prev();\n\n            if (prevCycleWrapper) {\n                cycleWrapper.insertBefore(prevCycleWrapper);\n                phaseContainer.find('.phase-title').triggerHandler(\"change\");\n            }\n        };\n\n        RoadmapConfig.prototype.downCycle = function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            var thisnode = $(event.currentTarget);\n            var cycleWrapper = thisnode.closest('.cycle-wrapper');\n            var phaseContainer = thisnode.closest('.phase-container');\n            var nextCycleWrapper = cycleWrapper.next();\n\n            if (nextCycleWrapper) {\n                cycleWrapper.insertAfter(nextCycleWrapper);\n                phaseContainer.find('.phase-title').triggerHandler(\"change\");\n            }\n        };\n\n        RoadmapConfig.prototype.upStep = function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            var thisnode = $(event.currentTarget);\n            var stepWrapper = thisnode.closest('.step-wrapper');\n            var cycleContainer = thisnode.closest('.cycle-container');\n            var prevStepWrapper = stepWrapper.prev();\n\n            if (prevStepWrapper) {\n                stepWrapper.insertBefore(prevStepWrapper);\n                cycleContainer.find('.cycle-title').triggerHandler(\"change\");\n            }\n        };\n\n        RoadmapConfig.prototype.downStep = function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            var thisnode = $(event.currentTarget);\n            var stepWrapper = thisnode.closest('.step-wrapper');\n            var cycleContainer = thisnode.closest('.cycle-container');\n            var nextStepWrapper = stepWrapper.next();\n\n            if (nextStepWrapper) {\n                stepWrapper.insertAfter(nextStepWrapper);\n                cycleContainer.find('.cycle-title').triggerHandler(\"change\");\n            }\n        };\n\n        RoadmapConfig.prototype.maxValue = function(dataType) {\n            var arrID = new Array();\n            $('.' + dataType + '-wrapper').each(function() {\n                let stepId = parseInt($(this).data(dataType + 'id'));\n                if (isNaN(stepId) === false) {\n                    arrID.push(stepId);\n                }\n            });\n            var newArrID = arrID.sort(function(a, b) {\n                return a - b;\n            });\n\n            return newArrID[arrID.length - 1];\n        };\n\n        return {\n\n            /**\n             * Main initialisation.\n             *\n             * @param {String} inputSelector The hidden input field selector.\n             * @param {String} inputConfig The hidden input configuration.\n             * @return {LearningObjectivesConfig} A new instance of PhasesConfig.\n             * @method init\n             */\n            init: function(inputSelector, inputConfig) {\n                return new RoadmapConfig(inputSelector, inputConfig);\n            }\n        };\n    });\n"],"names":["define","$","notification","templates","ec","learningobjectives","stepiconselect","stepactivityselect","stepsave","cyclesave","phasesave","RoadmapConfig","inputSelector","inputConfig","configContainer","initForm","prototype","self","this","inputConfigVal","val","JSON","stringify","config","parse","each","phases","p","phase","configuration","cycles","c","cycle","steps","s","step","render","then","html","js","prependNodeContents","click","e","addPhase","addCycle","addStep","collapsePhase","collapseCycle","collapseStep","deletePhase","deleteCycle","deleteStep","upPhase","downPhase","upCycle","downCycle","upStep","downStep","refreshChecklists","rebindButtons","rebindInputs","bindConfigSave","require","fail","exception","unbind","change","configSave","bind","phaseContainer","roadmapData","index","find","phaseData","phaseDataObj","push","phaseDeletes","cycleDeletes","stepDeletes","event","preventDefault","stopPropagation","nextIndex","length","newPhase","id","parseInt","maxValue","number","appendNodeContents","cycleContainer","currentTarget","closest","children","nextCycleIndex","newCycle","stepsContainer","nextStepIndex","newStep","stepicon","iconurl","thisnode","metadata","expandCollapse","window","confirm","phaseWrapper","phaseId","data","remove","cycleWrapper","cycleId","triggerHandler","stepWrapper","stepId","prevPhaseWrapper","prev","insertBefore","nextPhaseWrapper","next","insertAfter","prevCycleWrapper","nextCycleWrapper","prevStepWrapper","nextStepWrapper","dataType","arrID","Array","isNaN","sort","a","b","init"],"mappings":"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"}