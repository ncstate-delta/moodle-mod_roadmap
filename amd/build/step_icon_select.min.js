define ("mod_roadmap/step_icon_select",["jquery","core/notification","core/templates","core/ajax","mod_roadmap/dialogue"],function(a,b,c,d,e){var f=function(){};f.prototype.rebind_buttons=function(){a(".btn_icon_selector").unbind("click").click(this.showConfig.bind(this))};f.prototype.showConfig=function(d){var f=this,g=JSON.parse(a("input[name=\"icon_data\"]").val());f.clickedButton=d.target;c.render("mod_roadmap/configuration_iconselect",g).done(function(a){new e("Select Icon for Cycle",a,f.initIconConfig.bind(f))}).fail(b.exception)};f.prototype.initIconConfig=function(b){this.popup=b;var c=a(b.getContent());c.on("click","img.icon",function(c){var d=a(c.target).parent(".icon-container"),e=d.data("iconname"),f=a(this.clickedButton).data("stepid");a("input[name=\"step-"+f+"-icon\"]").val(e);a("input[name=\"step-"+f+"-icon\"]").parent(".step-icon-display").children("img").remove();a("input[name=\"step-"+f+"-icon\"]").parent(".step-icon-display").append(a(c.target));b.close()}.bind(this));c.on("click","[data-action=\"cancel\"]",function(){b.close()})};return{init:function init(){return new f},rebind_buttons:function rebind_buttons(){f.prototype.rebind_buttons()}}});
//# sourceMappingURL=step_icon_select.min.js.map
